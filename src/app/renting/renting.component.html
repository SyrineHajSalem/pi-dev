<div class="renting-container">
  <h1>Reservations</h1>
  <table mat-table [dataSource]="reservations" class="mat-elevation-z8" style="width: 100%;">

    <!-- ID Reservation Column -->
    <!-- <ng-container matColumnDef="id_reservation">
      <mat-header-cell *matHeaderCellDef> ID Reservation </mat-header-cell>
      <mat-cell *matCellDef="let reservation"> {{reservation._id}} </mat-cell>
    </ng-container> -->

    <!-- ID Vehicle Column -->
    <ng-container matColumnDef="id_vehicule">
      <mat-header-cell *matHeaderCellDef> ID Vehicle </mat-header-cell>
      <mat-cell *matCellDef="let reservation"> {{reservation.id_vehicule}} </mat-cell>
    </ng-container>

    <!-- ID Client Column -->
    <ng-container matColumnDef="id_client">
      <mat-header-cell *matHeaderCellDef> Client </mat-header-cell>
      <mat-cell *matCellDef="let reservation"> {{reservation.id_client}} </mat-cell>
    </ng-container>

    <!-- Start Date Column -->
    <ng-container matColumnDef="dateDebut">
      <mat-header-cell *matHeaderCellDef> Start Date </mat-header-cell>
      <mat-cell *matCellDef="let reservation"> {{reservation.dateDebut | date:'shortDate'}} </mat-cell>
    </ng-container>

    <!-- End Date Column -->
    <ng-container matColumnDef="dateFin">
      <mat-header-cell *matHeaderCellDef> End Date </mat-header-cell>
      <mat-cell *matCellDef="let reservation"> {{reservation.dateFin | date:'shortDate'}} </mat-cell>
    </ng-container>

    <!-- Tarif Column -->
    <ng-container matColumnDef="tarif">
      <mat-header-cell *matHeaderCellDef> Tarif </mat-header-cell>
      <mat-cell *matCellDef="let reservation"> {{reservation.tarif | currency}} </mat-cell>
    </ng-container>

    <!-- Paid Column -->
    <ng-container matColumnDef="paid">
      <mat-header-cell *matHeaderCellDef> Paid </mat-header-cell>
      <mat-cell *matCellDef="let reservation"> 
        <span [ngClass]="{'paid-chip': reservation.paid, 'not-paid-chip': !reservation.paid}">
          {{ reservation.paid ? 'Paid' : 'Not Paid' }}
        </span>
      </mat-cell>
    </ng-container>

    <!-- Actions Column -->
    <ng-container matColumnDef="actions">
      <mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>
      <mat-cell *matCellDef="let reservation"> 
        <button mat-icon-button color="warn" (click)="deleteReservation(reservation._id)">
          <mat-icon>delete</mat-icon>
        </button>
      </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
  </table>
</div>
